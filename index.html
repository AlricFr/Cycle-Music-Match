<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pedal Beats</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.amplitude.com/libs/analytics-browser-2.7.4-min.js.gz"></script>
  <script src="https://cdn.amplitude.com/libs/plugin-session-replay-browser-1.4.1-min.js.gz"></script>
  <script src="https://cdn.amplitude.com/libs/plugin-autocapture-browser-0.9.0-min.js.gz"></script>
  <script>window.amplitude.add(window.sessionReplay.plugin({sampleRate: 1})).promise.then(function() {window.amplitude.add(window.amplitudeAutocapturePlugin.plugin());window.amplitude.init('2169d14f3300d8290eb992db7141aaaa');});</script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script src="email.js" type="module"></script>
</head>

<body>
  <script src="script.js" type="module"></script>
  <script src="businessLogic.js" type="module"></script> 
  <div class="header">
    <!-- <div class="burger-menu"><img src="src/burger-menu.svg" alt=""></div> -->
  </div>
  <div id="main"></div>
  <!-- <div id="playlist"></div> -->
  <div id="oauth"></div>

  <!-- Landing page template with forward to autorization with spotify-->
  <template id="login">
    <img src="src/Title-image.jpg" class="title-image" alt="">
    <h1 class="title">Stay motivated</h1>
    <p>Personalize your cycling experience with your favorite tune at the right moment.</p>
    
    <p>First time here? To be able to use this app, you need to be registered with the same E-Mail address you use on Spotify.</p>
    <input type="text" id="email" placeholder='E-Mail'> 
    <button class="primary-button" id="register-button" data-bind-onclick="testingTheButton();"> 
      <div class="button-text">Register</div>
    </button>
    <button class="secondary-button" id="login-button" data-bind-onclick="loginWithSpotifyClick();"> 
      <div class="button-text">Log in with </div>
      <img src="src/Spotify_Logo_RGB_White.png" alt="" class="picture-button"> 
    </button>
    <div class="about-section">
      <a href="/about.html">About</a>
      <a href="https://instagram.com/pedalbeats.app">Instagram</a>
    </div>
    
  </template>
  
  <!-- Selecting Playlist Parameters-->
  <template id="playlist-select">
    <h2>Choose your inspiration</h2>
        <p>By selecting a genre and artist, you control the music added to the new playlist.</p>   

        <h2>Genres</h2>
          <div><select id="genre-list" class="select-list"></select></div>
          <div>
            <label class="text-content">Ride Length in hours</label>
            <input type="number" class="text-content" id="ride-length"></input>
          </div>
          <div>
            <label class="text-content">Ride intensity</label>
            <select id="ride-intensity" class="text-content">
              <option value="flat">Fast & Flat</option>
              <option value="climb">Steep climb</option>
              <option value="calm">Cofee ride</option>
            </select>
          </div>
          <!-- <button data-bind-onclick="testingTheButton();" class="button-secondary">Try out Playlist Length</button> -->
          <label class="text-content">Playlist Name</label>
          <input type="text" class="text-content" id="playlist-name"></input>
        
    
    <div class="button-container">
        <!-- <button class="button-main">Preview Playlist</button> -->
        <button class="button-main" data-bind-onclick="createPlaylist()">Create Playlist</button>
        <button id="logout-button" class="button-secondary" data-bind-onclick="logoutClick()">Logout</button>
    </div>

  </template>

  <template id="oauth-template">
    <h2>oAuth info</h2>
    <table>
      <tr>
        <td>Access token</td>
        <td data-bind="access_token"></td>
      </tr>
      <tr>
        <td>Refresh token</td>
        <td data-bind="refresh_token"></td>
      </tr>
      <tr>
        <td>Expiration at</td>
        <td data-bind="expires">${getExpirationDate(expires_in)}</td>
      </tr>
    </table>
  </template>

  <template id="playlist-creation-success">
    <div class="success-border">
      <p class="message-content">Playlist created successfully. 
        Check your Spotify Library to review it.
        <br>
        <br>
        Save ride! </p>
    </div>
    <button data-bind-onclick="createNewPlaylist()">Create new playlist</button>

  </template>

  <template id="registration-creation-success">
    <div class="success-border">
      <p class="message-content">Your request for registration was received!
        <br>
        <br>
        You will receive an email once you have been admitted. This typically happens within 12 hours.</p>
    </div>
  </template>

  

  <!-- <p class="subtle">Photo Credits to https://unsplash.com/photos/black-road-bicycle-handle-with-black-background-XVTWFHcNIko?utm_content=creditShareLink&utm_medium=referral&utm_source=unsplash</p> -->
</body>

</html>
