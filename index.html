<!DOCTYPE html>
<html>

<head>
  <title>Example of the Authorization Code with PKCE flow with Spotify</title>
  <link rel="stylesheet" href="styles.css">

</head>

<body>
  <script src="script.js" type="module"></script>
  <script src="businessLogic.js" type="module"></script> 

  <div id="main"></div>
  <div id="playlist"></div>
  <div id="oauth"></div>

  <!-- Landing page template with forward to autorization with spotify-->
  <template id="login">
    <h1>Cycling Music Match</h1>
    <p>By connecting Cycling Music Match to Spotify, the curated playlist will be based on your taste and will be available directly in your Spotify Library.</p>
    <button id="login-button" data-bind-onclick="loginWithSpotifyClick();"> Log in with Spotify </button>
  </template>
  
  <!-- Selecting Playlist Parameters-->
  <template id="playlist-select">
    <h3 class="h3">Choose your inspiration</h3>
        <p>By selecting a genre and artist, you control the music added to the new playlist.</p>   

        <h4>Genres</h4>
          <select id="genre-list" class="card-container"></select>

        <h4>Artists</h4>
        <div id="artist-list" class="card-container"></div>
        

        
    
    <div class="button-container">
        <button class="button-main">Preview Playlist</button>
        <button id="logout-button" class="button-secondary" data-bind-onclick="logoutClick()">Logout</button>
    </div>

  </template>

  <!-- Review & save Playlist-->
  <template id="playlist-review">
    <!-- needs scrollable list of tracks currently considered for the playlist-->
    <!-- needs button to continue & button to regenerate-->
  </template>


  <template id="playlist-create">
    <!-- needs a field to enter a name & take over the name to the playlist-->  
    <button class="button-main" data-bind-onclick="createPlaylist('TestPlaylist')">Create Playlist</button>
  </template>

  


  <template id="oauth-template">
    <h2>oAuth info</h2>
    <table>
      <tr>
        <td>Access token</td>
        <td data-bind="access_token"></td>
      </tr>
      <tr>
        <td>Refresh token</td>
        <td data-bind="refresh_token"></td>
      </tr>
      <tr>
        <td>Expiration at</td>
        <td data-bind="expires">${getExpirationDate(expires_in)}</td>
      </tr>
    </table>
  </template>

  
</body>

</html>